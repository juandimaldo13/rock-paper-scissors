<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors - Odin Project</title>


</head>
<body>
    <h1>Rock Paper Scissors!</h1>
    <div class="main-cointainer">
        <button id="btnRock">Rock</button>
        <button id="btnPaper">Paper</button>
        <button id="btnScissors">Scissors</button>
    </div>

    <script>


        //Add a div for diplaying results and append it on top of the buttons
        const container = document.querySelector('.main-cointainer');
        const divResults = document.createElement('div');

        container.appendChild(divResults);

        //Add a div after the Heading to show the Score
        const body = document.querySelector('body');
        const scoreContainer = document.createElement ('div');
        const hScoreDisplay = document.createElement('span');
        hScoreDisplay.textContent = 'Human Score: '
        const cScoreDisplay = document.createElement('span');
        cScoreDisplay.textContent = 'Computer Score: '
        
        scoreContainer.appendChild(hScoreDisplay);
        scoreContainer.appendChild(cScoreDisplay);
        scoreContainer.style.display = 'flex';
        scoreContainer.style.gap = '10px';

        body.insertBefore(scoreContainer, container);



        //Function to get the computer choice
        function getComputerChoice (){
            let rand = Math.random();
            if (rand <=0.33)
                return 'rock';
            else if (rand <=0.66)
                return 'scissors';
            else
                return 'paper';
        }


        function getHumanChoice () {
            let choice = prompt('Rock, Paper, or Scissors?').toLowerCase()
            if (choice !== 'rock' || choice !== 'paper' || choice !== 'scissors')
                return choice;
            else 
                return console.log('Imput an option between rock, paper or scissors')

        }

        
            let humanScore = 0;
            let computerScore = 0;
        

        function playGame() {



            

            if (humanScore > computerScore)
                return console.log('You are the winner');
            else if (humanScore < computerScore)
                return console.log('The computer is the winner!');
            else
                return console.log('It is a tie after 5! Play Again.');

            


        };


            function playRound(humanChoice, computerChoice) {

                if (humanChoice === 'rock') {
                    if(computerChoice ==='paper') {
                        computerScore += 1;
                        divResults.textContent ='You Lose! Paper beats rock.'; 
                        cScoreDisplay.textContent ='Computer Score: ' + computerScore;}
                    else if (computerChoice ==='scissors')  {
                        humanScore += 1;
                        divResults.textContent = 'You Win! Rock beats scissors.';
                        hScoreDisplay.textContent = 'Human Score: ' + humanScore;}
                    else {
                        divResults.textContent = 'It is a tie! Play Again.';}}
                else if (humanChoice === 'paper') {
                    if(computerChoice ==='scissors') {
                        computerScore += 1;
                        divResults.textContent = 'You Lose! Scissors beats paper.'; 
                        cScoreDisplay.textContent ='Computer Score: ' + computerScore;}
                    else if (computerChoice ==='rock')  {
                        humanScore += 1;
                        divResults.textContent = 'You Win! Paper beats rock.';
                        hScoreDisplay.textContent = 'Human Score: ' + humanScore; }
                    else {
                        divResults.textContent = 'It is a tie! Play Again.';}}
                else {
                    if(computerChoice ==='rock') {
                        computerScore += 1;
                        divResults.textContent = 'You Lose! Rock beats scissors.'; 
                        cScoreDisplay.textContent ='Computer Score: ' + computerScore;}
                    else if (computerChoice ==='paper')  {
                        humanScore += 1;
                        divResults.textContent = 'You Win! Scissors beats paper.';
                        hScoreDisplay.textContent = 'Human Score: ' + humanScore; }
                    else {
                        divResults.textContent = 'It is a tie! Play Again.';}}
                    
                verifyWinner();
            };

        //Game functionality
        const btnR = document.querySelector('#btnRock');
        const btnP = document.querySelector('#btnPaper');
        const btnS = document.querySelector('#btnScissors');


        btnR.addEventListener("click", () => playRound('rock',getComputerChoice()));
        btnP.addEventListener("click", () => playRound('paper',getComputerChoice()));
        btnS.addEventListener("click", () => playRound('scissors',getComputerChoice()));
        
        //Game over 
        let finalMsg = "";
        function verifyWinner() {
        if(computerScore === 5) {
                alert('The computer is the winner!');
                computerScore =0;
                humanScore =0;
                hScoreDisplay.textContent = 'Human Score: '
                cScoreDisplay.textContent = 'Computer Score: '
        }
        else if (humanScore === 5) {
            alert('You are the winner!');
                computerScore =0;
                humanScore =0;
                hScoreDisplay.textContent = 'Human Score: '
                cScoreDisplay.textContent = 'Computer Score: '
        }
    }

    </script>



</body>
</html>